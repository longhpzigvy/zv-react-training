[{"D:\\Zigvy\\Training\\zv-react-training\\Training4\\phuong-training4\\src\\App.js":"1","D:\\Zigvy\\Training\\zv-react-training\\Training4\\phuong-training4\\src\\index.js":"2","D:\\Zigvy\\Training\\zv-react-training\\Training4\\phuong-training4\\src\\task2\\index.js":"3","D:\\Zigvy\\Training\\zv-react-training\\Training4\\phuong-training4\\src\\utils\\http-clients.js":"4","D:\\Zigvy\\Training\\zv-react-training\\Training4\\phuong-training4\\src\\components\\paging.js":"5"},{"size":202,"mtime":1606278017452,"results":"6","hashOfConfig":"7"},{"size":543,"mtime":1606278145643,"results":"8","hashOfConfig":"7"},{"size":2769,"mtime":1606288531036,"results":"9","hashOfConfig":"7"},{"size":1678,"mtime":1606277326833,"results":"10","hashOfConfig":"7"},{"size":601,"mtime":1606280489056,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1t021uh",{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"16","messages":"17","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Zigvy\\Training\\zv-react-training\\Training4\\phuong-training4\\src\\App.js",[],"D:\\Zigvy\\Training\\zv-react-training\\Training4\\phuong-training4\\src\\index.js",[],"D:\\Zigvy\\Training\\zv-react-training\\Training4\\phuong-training4\\src\\task2\\index.js",["23"],"import React, { useEffect, useState, useCallback } from \"react\";\r\nimport \"./country.css\";\r\nimport {\r\n  getAllCountryAsync,\r\n  getCountryByNameAsync,\r\n} from \"../services/country.service\";\r\nimport Pagination from \"../components/paging\";\r\nimport { debounce } from \"lodash\";\r\n\r\nconst CountrySection = () => {\r\n  const [countries, setCountries] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [countryPerPage] = useState(15);\r\n  const [total, setTotal] = useState(0);\r\n  const [valueSearch, setValueSearch] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const indexOfLastCountry = currentPage * countryPerPage;\r\n      const indexOfFirstCountry = indexOfLastCountry - countryPerPage;\r\n      let dataCountries = await getAllCountryAsync();\r\n      const currentCountries = dataCountries.data.slice(\r\n        indexOfFirstCountry,\r\n        indexOfLastCountry\r\n      );\r\n      setCountries(currentCountries);\r\n      setTotal(dataCountries.data.length);\r\n    };\r\n\r\n    fetchData();\r\n  }, [currentPage, countryPerPage]);\r\n\r\n  const renderCountries = countries.map((country) => (\r\n    <div className=\"col-md-4 col-sm-6 col-12\" key={country.name}>\r\n      <div className=\"country\">\r\n        <p>Name: {country.name}</p>\r\n        <p>Capital: {country.capital}</p>\r\n        <p>Population: {country.population}</p>\r\n      </div>\r\n    </div>\r\n  ));\r\n\r\n  const handleChangePage = (page) => {\r\n    setCurrentPage(page);\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const { value } = event.target;\r\n    setValueSearch(value);\r\n    handleSearch(value);\r\n  };\r\n\r\n  const getCountryByName = async (value) => {\r\n    let result = await getCountryByNameAsync(value);\r\n    setCountries(result.data);\r\n    setTotal(result.data.length);\r\n  };\r\n\r\n  const handleSearch = useCallback(\r\n    debounce((value) => {\r\n      getCountryByName(value);\r\n    }, 3000),\r\n    []\r\n  );\r\n\r\n  const handleKeySearch = (event) => {\r\n    if (event.key === \"Enter\") {\r\n      getCountryByName(valueSearch);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"country-section container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            value={valueSearch}\r\n            onChange={handleChange}\r\n            onKeyPress={handleKeySearch}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"row countries\">{renderCountries}</div>\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <Pagination\r\n            countryPerPage={countryPerPage}\r\n            total={total}\r\n            handleChangePage={handleChangePage}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountrySection;\r\n","D:\\Zigvy\\Training\\zv-react-training\\Training4\\phuong-training4\\src\\utils\\http-clients.js",[],"D:\\Zigvy\\Training\\zv-react-training\\Training4\\phuong-training4\\src\\components\\paging.js",[],{"ruleId":"24","severity":1,"message":"25","line":59,"column":24,"nodeType":"26","endLine":59,"endColumn":35},"react-hooks/exhaustive-deps","React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","Identifier"]